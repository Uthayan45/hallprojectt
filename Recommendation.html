<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Settings</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="account.css">
    <style>
        /* Voltage button styles */
        .voltage-button {
            position: relative;
            margin: 20px;
        }
        
        .voltage-button button {
            color: white;
            background: transparent;
            border: none;
            padding: 10px 20px;
            position: relative;
            z-index: 1;
            font-size: 16px;
            cursor: pointer;
        }
        
        .voltage-button button a {
            color: white;
            text-decoration: none;
        }
        
        .voltage-button svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            filter: url(#glow);
        }
        
        .voltage-button .voltage-line-1 {
            stroke-width: 2px;
            stroke-dasharray: 40 480;
            stroke-dashoffset: 40;
            transition: all 1s ease-in-out;
        }
        
        .voltage-button:hover .voltage-line-1 {
            stroke-dashoffset: -480;
        }
        
        .voltage-button .voltage-line-2 {
            stroke-width: 2px;
            stroke-dasharray: 20 420;
            stroke-dashoffset: 20;
            transition: all 1s ease-in-out;
        }
        
        .voltage-button:hover .voltage-line-2 {
            stroke-dashoffset: -420;
        }
        
        .dots {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: none;
        }
        
        .dot {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            opacity: 0;
            position: absolute;
            transition: all 0.5s ease-in-out;
        }
        
        .voltage-button:hover .dot {
            opacity: 1;
        }
        
        .dot-1 {
            top: 10%;
            left: 10%;
            transition-delay: 0.1s;
        }
        
        .dot-2 {
            top: 10%;
            right: 10%;
            transition-delay: 0.2s;
        }
        
        .dot-3 {
            bottom: 10%;
            right: 10%;
            transition-delay: 0.3s;
        }
        
        .dot-4 {
            bottom: 10%;
            left: 10%;
            transition-delay: 0.4s;
        }
        
        .dot-5 {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition-delay: 0.5s;
        }
        
        /* Account settings styles */
        body.light-style {
            background-color: #f5f5f9;
            color: #444;
        }
        
        .light-style .card {
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
        }
        
        .light-style .account-settings-links .list-group-item.active {
            font-weight: bold;
            color: #4e73df !important;
            background: transparent;
        }
        
        .light-style .account-settings-links .list-group-item {
            padding: 0.85rem 1.5rem;
            border-color: rgba(24, 28, 33, 0.03) !important;
        }
        
        .light-style .account-settings-links .list-group-item:hover {
            color: #4e73df !important;
        }
        
        .ui-w-80 {
            width: 80px !important;
            height: auto;
        }
        
        .btn-default {
            border-color: rgba(24, 28, 33, 0.1);
        }
        
        .btn-outline-primary {
            color: #4e73df;
            background-color: transparent;
            border-color: #4e73df;
        }
        
        .btn-outline-primary:hover {
            color: #fff;
            background-color: #4e73df;
            border-color: #4e73df;
        }
        
        .text-light {
            color: #d1d3e2 !important;
        }
        
        .card {
            background-clip: padding-box;
            box-shadow: 0 1px 4px rgba(24, 28, 33, 0.012);
        }
        
        .row-bordered {
            overflow: hidden;
        }
        
        .account-settings-fileinput {
            position: absolute;
            visibility: hidden;
            width: 1px;
            height: 1px;
            opacity: 0;
        }
        
        .account-settings-links .list-group-item.active {
            font-weight: bold !important;
        }
        
        html:not(.dark-style) .account-settings-links .list-group-item.active {
            background: transparent !important;
        }
        
        .account-settings-multiselect ~ .select2-container {
            width: 100% !important;
        }
        
        .form-control, .dataTable-input {
            display: block;
            width: 100%;
            padding: 0.875rem 1.125rem;
            font-size: 0.875rem;
            font-weight: 400;
            line-height: 1;
            color: #69707a;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #c5ccd6;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 0.35rem;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        
        .background {
            background-color: #f8f9fc;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #6c757d;
        }
    </style>
</head>
<body class="background light-style">
    <!-- Voltage Button Back -->
    <div class="voltage-button"> 
        <button><a href="dashbord.html">Back</a></button>
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 234.6 61.3" preserveAspectRatio="none" xml:space="preserve">
            <filter id="glow">
                <feGaussianBlur class="blur" result="coloredBlur" stdDeviation="2"></feGaussianBlur>
                <feTurbulence type="fractalNoise" baseFrequency="0.075" numOctaves="0.3" result="turbulence"></feTurbulence>
                <feDisplacementMap in="SourceGraphic" in2="turbulence" scale="30" xChannelSelector="R" yChannelSelector="G" result="displace"></feDisplacementMap>
                <feMerge>
                    <feMergeNode in="coloredBlur"></feMergeNode>
                    <feMergeNode in="coloredBlur"></feMergeNode>
                    <feMergeNode in="coloredBlur"></feMergeNode>
                    <feMergeNode in="displace"></feMergeNode>
                    <feMergeNode in="SourceGraphic"></feMergeNode>
                </feMerge>
            </filter>
            <path class="voltage line-1" d="m216.3 51.2c-3.7 0-3.7-1.1-7.3-1.1-3.7 0-3.7 6.8-7.3 6.8-3.7 0-3.7-4.6-7.3-4.6-3.7 0-3.7 3.6-7.3 3.6-3.7 0-3.7-0.9-7.3-0.9-3.7 0-3.7-2.7-7.3-2.7-3.7 0-3.7 7.8-7.3 7.8-3.7 0-3.7-4.9-7.3-4.9-3.7 0-3.7-7.8-7.3-7.8-3.7 0-3.7-1.1-7.3-1.1-3.7 0-3.7 3.1-7.3 3.1-3.7 0-3.7 10.9-7.3 10.9-3.7 0-3.7-12.5-7.3-12.5-3.7 0-3.7 4.6-7.3 4.6-3.7 0-3.7 4.5-7.3 4.5-3.7 0-3.7 3.6-7.3 3.6-3.7 0-3.7-10-7.3-10-3.7 0-3.7-0.4-7.3-0.4-3.7 0-3.7 2.3-7.3 2.3-3.7 0-3.7 7.1-7.3 7.1-3.7 0-3.7-11.2-7.3-11.2-3.7 0-3.7 3.5-7.3 3.5-3.7 0-3.7 3.6-7.3 3.6-3.7 0-3.7-2.9-7.3-2.9-3.7 0-3.7 8.4-7.3 8.4-3.7 0-3.7-14.6-7.3-14.6-3.7 0-3.7 5.8-7.3 5.8-2.2 0-3.8-0.4-5.5-1.5-1.8-1.1-1.8-2.9-2.9-4.8-1-1.8 1.9-2.7 1.9-4.8 0-3.4-2.1-3.4-2.1-6.8s-9.9-3.4-9.9-6.8 8-3.4 8-6.8c0-2.2 2.1-2.4 3.1-4.2 1.1-1.8 0.2-3.9 2-5 1.8-1 3.1-7.9 5.3-7.9 3.7 0 3.7 0.9 7.3 0.9 3.7 0 3.7 6.7 7.3 6.7 3.7 0 3.7-1.8 7.3-1.8 3.7 0 3.7-0.6 7.3-0.6 3.7 0 3.7-7.8 7.3-7.8h7.3c3.7 0 3.7 4.7 7.3 4.7 3.7 0 3.7-1.1 7.3-1.1 3.7 0 3.7 11.6 7.3 11.6 3.7 0 3.7-2.6 7.3-2.6 3.7 0 3.7-12.9 7.3-12.9 3.7 0 3.7 10.9 7.3 10.9 3.7 0 3.7 1.3 7.3 1.3 3.7 0 3.7-8.7 7.3-8.7 3.7 0 3.7 11.5 7.3 11.5 3.7 0 3.7-1.4 7.3-1.4 3.7 0 3.7-2.6 7.3-2.6 3.7 0 3.7-5.8 7.3-5.8 3.7 0 3.7-1.3 7.3-1.3 3.7 0 3.7 6.6 7.3 6.6s3.7-9.3 7.3-9.3c3.7 0 3.7 0.2 7.3 0.2 3.7 0 3.7 8.5 7.3 8.5 3.7 0 3.7 0.2 7.3 0.2 3.7 0 3.7-1.5 7.3-1.5 3.7 0 3.7 1.6 7.3 1.6s3.7-5.1 7.3-5.1c2.2 0 0.6 9.6 2.4 10.7s4.1-2 5.1-0.1c1 1.8 10.3 2.2 10.3 4.3 0 3.4-10.7 3.4-10.7 6.8s1.2 3.4 1.2 6.8 1.9 3.4 1.9 6.8c0 2.2 7.2 7.7 6.2 9.5-1.1 1.8-12.3-6.5-14.1-5.5-1.7 0.9-0.1 6.2-2.2 6.2z" fill="transparent" stroke="#4e73df"></path>
            <path class="voltage line-2" d="m216.3 52.1c-3 0-3-0.5-6-0.5s-3 3-6 3-3-2-6-2-3 1.6-6 1.6-3-0.4-6-0.4-3-1.2-6-1.2-3 3.4-6 3.4-3-2.2-6-2.2-3-3.4-6-3.4-3-0.5-6-0.5-3 1.4-6 1.4-3 4.8-6 4.8-3-5.5-6-5.5-3 2-6 2-3 2-6 2-3 1.6-6 1.6-3-4.4-6-4.4-3-0.2-6-0.2-3 1-6 1-3 3.1-6 3.1-3-4.9-6-4.9-3 1.5-6 1.5-3 1.6-6 1.6-3-1.3-6-1.3-3 3.7-6 3.7-3-6.4-6-6.4-3 2.5-6 2.5h-6c-3 0-3-0.6-6-0.6s-3-1.4-6-1.4-3 0.9-6 0.9-3 4.3-6 4.3-3-3.5-6-3.5c-2.2 0-3.4-1.3-5.2-2.3-1.8-1.1-3.6-1.5-4.6-3.3s-4.4-3.5-4.4-5.7c0-3.4 0.4-3.4 0.4-6.8s2.9-3.4 2.9-6.8-0.8-3.4-0.8-6.8c0-2.2 0.3-4.2 1.3-5.9 1.1-1.8 0.8-6.2 2.6-7.3 1.8-1 5.5-2 7.7-2 3 0 3 2 6 2s3-0.5 6-0.5 3 5.1 6 5.1 3-1.1 6-1.1 3-5.6 6-5.6 3 4.8 6 4.8 3 0.6 6 0.6 3-3.8 6-3.8 3 5.1 6 5.1 3-0.6 6-0.6 3-1.2 6-1.2 3-2.6 6-2.6 3-0.6 6-0.6 3 2.9 6 2.9 3-4.1 6-4.1 3 0.1 6 0.1 3 3.7 6 3.7 3 0.1 6 0.1 3-0.6 6-0.6 3 0.7 6 0.7 3-2.2 6-2.2 3 4.4 6 4.4 3-1.7 6-1.7 3-4 6-4 3 4.7 6 4.7 3-0.5 6-0.5 3-0.8 6-0.8 3-3.8 6-3.8 3 6.3 6 6.3 3-4.8 6-4.8 3 1.9 6 1.9 3-1.9 6-1.9 3 1.3 6 1.3c2.2 0 5-0.5 6.7 0.5 1.8 1.1 2.4 4 3.5 5.8 1 1.8 0.3 3.7 0.3 5.9 0 3.4 3.4 3.4 3.4 6.8s-3.3 3.4-3.3 6.8 4 3.4 4 6.8c0 2.2-6 2.7-7 4.4-1.1 1.8 1.1 6.7-0.7 7.7-1.6 0.8-4.7-1.1-6.8-1.1z" fill="transparent" stroke="#4e73df"></path>
        </svg>
        <div class="dots">
            <div class="dot dot-1"></div>
            <div class="dot dot-2"></div>
            <div class="dot dot-3"></div>
            <div class="dot dot-4"></div>
            <div class="dot dot-5"></div>
        </div>
    </div>

    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Karur Wedding Hall Recommendation System</title>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <style>
            :root {
                --primary-color: #d81b60;
                --secondary-color: #1e88e5;
                --success-color: #388e3c;
                --dark-color: #333;
                --light-color: #f5f5f5;
                --white: #fff;
            }
            
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                margin: 0;
                padding: 0;
                background-color: var(--light-color);
                color: var(--dark-color);
            }
            
            .container {
                display: flex;
                flex-wrap: wrap;
                max-width: 1400px;
                margin: 0 auto;
                padding: 20px;
                gap: 20px;
            }
            
            .filter-section {
                flex: 1;
                min-width: 300px;
                background-color: var(--white);
                border-radius: 10px;
                padding: 20px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            }
            
            .map-container {
                flex: 2;
                min-width: 300px;
                border-radius: 10px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                overflow: hidden;
            }
            
            .halls-container {
                flex: 1;
                min-width: 300px;
                background-color: var(--white);
                border-radius: 10px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                max-height: 800px;
                overflow-y: auto;
                padding: 15px;
            }
            
            #map {
                height: 600px;
                width: 100%;
            }
            
            h1 {
                color: var(--primary-color);
                text-align: center;
                width: 100%;
                margin-bottom: 30px;
                font-size: 2.2rem;
            }
            
            h2 {
                color: var(--primary-color);
                margin-top: 0;
                font-size: 1.5rem;
                border-bottom: 2px solid var(--light-color);
                padding-bottom: 10px;
            }
            
            .filter-group {
                margin-bottom: 20px;
            }
            
            .filter-group h3 {
                margin-bottom: 10px;
                color: var(--dark-color);
                font-size: 1.1rem;
            }
            
            .filter-option {
                margin-bottom: 8px;
                display: flex;
                align-items: center;
            }
            
            .filter-option input {
                margin-right: 10px;
            }
            
            .slider-container {
                width: 100%;
                margin-top: 10px;
            }
            
            .slider-values {
                display: flex;
                justify-content: space-between;
                margin-top: 5px;
                font-size: 0.9rem;
            }
            
            .hall-card {
                border: 1px solid #e0e0e0;
                border-radius: 8px;
                padding: 15px;
                margin-bottom: 20px;
                transition: all 0.3s ease;
                background-color: var(--white);
            }
            
            .hall-card:hover {
                box-shadow: 0 6px 15px rgba(0,0,0,0.1);
                transform: translateY(-3px);
            }
            
            .hall-card.featured {
                border-left: 5px solid var(--primary-color);
                background-color: #fff9fa;
            }
            
            .hall-card h3 {
                margin-top: 0;
                color: var(--primary-color);
                font-size: 1.3rem;
            }
            
            .hall-meta {
                display: flex;
                flex-wrap: wrap;
                gap: 15px;
                margin: 10px 0;
            }
            
            .hall-meta-item {
                display: flex;
                align-items: center;
                font-size: 0.9rem;
            }
            
            .hall-meta-item i {
                margin-right: 5px;
                color: var(--secondary-color);
            }
            
            .hall-distance {
                font-weight: bold;
                color: var(--success-color);
                margin: 10px 0;
            }
            
            .hall-rating {
                display: flex;
                align-items: center;
                margin: 5px 0;
            }
            
            .stars {
                color: #ffc107;
                margin-right: 5px;
            }
            
            .hall-description {
                margin: 10px 0;
                font-size: 0.95rem;
                line-height: 1.5;
            }
            
            .hall-buttons {
                display: flex;
                gap: 10px;
                margin-top: 15px;
            }
            
            .button {
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-weight: bold;
                text-decoration: none;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                transition: all 0.3s;
                border: none;
                font-size: 0.9rem;
            }
            
            .button i {
                margin-right: 5px;
            }
            
            .button-primary {
                background-color: var(--primary-color);
                color: white;
                flex: 1;
            }
            
            .button-primary:hover {
                background-color: #c2185b;
            }
            
            .button-secondary {
                background-color: var(--secondary-color);
                color: white;
            }
            
            .button-secondary:hover {
                background-color: #1565c0;
            }
            
            .button-outline {
                background-color: transparent;
                border: 1px solid var(--primary-color);
                color: var(--primary-color);
            }
            
            .button-outline:hover {
                background-color: var(--primary-color);
                color: white;
            }
            
            .loading {
                text-align: center;
                padding: 40px;
                color: #616161;
            }
            
            .no-results {
                text-align: center;
                padding: 40px;
                color: #616161;
                font-size: 1.1rem;
            }
            
            .featured-badge {
                background-color: var(--primary-color);
                color: white;
                padding: 3px 8px;
                border-radius: 4px;
                font-size: 0.8rem;
                font-weight: bold;
                margin-left: 10px;
                display: inline-block;
            }
            
            @media (max-width: 768px) {
                .container {
                    flex-direction: column;
                }
                
                .map-container {
                    order: -1;
                }
                
                .hall-buttons {
                    flex-direction: column;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1><i class="fas fa-heart"></i> Karur Wedding Hall Recommendation System</h1>
            
            <div class="filter-section">
                <h2><i class="fas fa-filter"></i> Filter Halls</h2>
                
                <div class="filter-group">
                    <h3><i class="fas fa-search-location"></i> Location</h3>
                    <input type="text" id="user-location" class="location-input" placeholder="Enter your location in Karur">
                    <button class="button button-primary" onclick="getUserLocation()" style="margin-top: 10px;">
                        <i class="fas fa-location-arrow"></i> Use My Current Location
                    </button>
                </div>
                
                <div class="filter-group">
                    <h3><i class="fas fa-rupee-sign"></i> Budget Range</h3>
                    <div class="slider-container">
                        <input type="range" id="price-range" min="20000" max="200000" step="10000" value="200000" class="slider">
                        <div class="slider-values">
                            <span>₹20K</span>
                            <span>₹2L</span>
                        </div>
                    </div>
                    <div id="selected-price" style="text-align: center; margin-top: 5px;">Max: ₹2,00,000</div>
                </div>
                
                <div class="filter-group">
                    <h3><i class="fas fa-users"></i> Capacity</h3>
                    <div class="filter-option">
                        <input type="checkbox" id="capacity-small" checked>
                        <label for="capacity-small">Small (100-300 guests)</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="capacity-medium" checked>
                        <label for="capacity-medium">Medium (300-700 guests)</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="capacity-large" checked>
                        <label for="capacity-large">Large (700+ guests)</label>
                    </div>
                </div>
                
                <div class="filter-group">
                    <h3><i class="fas fa-star"></i> Amenities</h3>
                    <div class="filter-option">
                        <input type="checkbox" id="amenity-ac" checked>
                        <label for="amenity-ac">Air Conditioning</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="amenity-parking" checked>
                        <label for="amenity-parking">Parking</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="amenity-catering" checked>
                        <label for="amenity-catering">In-house Catering</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="amenity-decoration" checked>
                        <label for="amenity-decoration">Decoration Services</label>
                    </div>
                </div>
                
                <div class="filter-group">
                    <h3><i class="fas fa-thumbs-up"></i> Recommendations</h3>
                    <div class="filter-option">
                        <input type="checkbox" id="featured-only">
                        <label for="featured-only">Featured Halls Only</label>
                    </div>
                    <div class="filter-option">
                        <input type="checkbox" id="top-rated" checked>
                        <label for="top-rated">Top Rated (4+ stars)</label>
                    </div>
                </div>
                
                <button class="button button-primary" onclick="filterHalls()" style="width: 100%; margin-top: 20px;">
                    <i class="fas fa-sync-alt"></i> Apply Filters
                </button>
            </div>
            
            <div class="map-container">
                <div id="map"></div>
            </div>
            
            <div class="halls-container">
                <h2><i class="fas fa-list"></i> Recommended Halls</h2>
                <div id="halls-list">
                    <div class="loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading wedding halls...
                    </div>
                </div>
            </div>
        </div>
    
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
        <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
    
        <script>
            // Enhanced wedding halls data for Karur, Tamil Nadu
            const weddingHalls = [
                {
                    id: 1,
                    name: "Sri Venkateswara Mahal",
                    address: "Thanthonrimalai, Karur",
                    lat: 10.9600, 
                    lng: 78.0769,
                    capacity: 1000,
                    priceRange: [50000, 150000],
                    contact: "9876543210",
                    amenities: ["ac", "parking", "catering", "decoration"],
                    rating: 4.5,
                    reviews: 128,
                    featured: true,
                    description: "One of the most prestigious wedding halls in Karur with excellent facilities and spacious parking area. Perfect for grand weddings.",
                    images: ["hall1-1.jpg", "hall1-2.jpg"],
                    bookingLink: "booking.html?hall=1"
                },
                {
                    id: 2,
                    name: "Green Park Marriage Hall",
                    address: "Aravakurichi Road, Karur",
                    lat: 10.9524,
                    lng: 78.0742,
                    capacity: 800,
                    priceRange: [40000, 120000],
                    contact: "8765432109",
                    amenities: ["ac", "parking"],
                    rating: 4.2,
                    reviews: 86,
                    featured: false,
                    description: "Beautiful garden wedding venue with natural surroundings. Ideal for outdoor wedding ceremonies.",
                    images: ["hall2-1.jpg", "hall2-2.jpg"],
                    bookingLink: "booking.html?hall=2"
                },
                {
                    id: 3,
                    name: "Lakshmi Mahal",
                    address: "Puliyur, Karur",
                    lat: 10.9578,
                    lng: 78.0821,
                    capacity: 600,
                    priceRange: [30000, 90000],
                    contact: "7654321098",
                    amenities: ["ac", "parking", "decoration"],
                    rating: 4.0,
                    reviews: 72,
                    featured: true,
                    description: "Traditional wedding hall with modern amenities. Known for excellent service and customizable spaces.",
                    images: ["hall3-1.jpg", "hall3-2.jpg"],
                    bookingLink: "booking.html?hall=3"
                },
                {
                    id: 4,
                    name: "Sakthi Kalyana Mandapam",
                    address: "Inam Kulipalayam, Karur",
                    lat: 10.9667,
                    lng: 78.0667,
                    capacity: 1200,
                    priceRange: [60000, 200000],
                    contact: "6543210987",
                    amenities: ["ac", "parking", "catering", "decoration"],
                    rating: 4.7,
                    reviews: 215,
                    featured: true,
                    description: "The largest wedding hall in Karur with multiple event spaces and premium services for elite weddings.",
                    images: ["hall4-1.jpg", "hall4-2.jpg"],
                    bookingLink: "booking.html?hall=4"
                },
                {
                    id: 5,
                    name: "Annai Theresa Mahal",
                    address: "Vangal, Karur",
                    lat: 10.9489,
                    lng: 78.0865,
                    capacity: 500,
                    priceRange: [25000, 75000],
                    contact: "9432109876",
                    amenities: ["ac", "parking"],
                    rating: 3.8,
                    reviews: 45,
                    featured: false,
                    description: "Budget-friendly wedding hall with all basic amenities. Popular for intimate weddings and receptions.",
                    images: ["hall5-1.jpg", "hall5-2.jpg"],
                    bookingLink: "booking.html?hall=5"
                },
                {
                    id: 6,
                    name: "Grand Palace Wedding Hall",
                    address: "Pallapatti Road, Karur",
                    lat: 10.9550,
                    lng: 78.0720,
                    capacity: 900,
                    priceRange: [45000, 130000],
                    contact: "8765123490",
                    amenities: ["ac", "parking", "catering"],
                    rating: 4.3,
                    reviews: 95,
                    featured: true,
                    description: "Elegant wedding venue with royal ambiance and professional event management services.",
                    images: ["hall6-1.jpg", "hall6-2.jpg"],
                    bookingLink: "booking.html?hall=6"
                },
                {
                    id: 7,
                    name: "Sree Devi Gardens",
                    address: "Kulithalai Road, Karur",
                    lat: 10.9630,
                    lng: 78.0800,
                    capacity: 400,
                    priceRange: [35000, 80000],
                    contact: "7654321890",
                    amenities: ["parking", "decoration"],
                    rating: 3.9,
                    reviews: 58,
                    featured: false,
                    description: "Beautiful garden venue perfect for outdoor weddings with natural floral decorations.",
                    images: ["hall7-1.jpg", "hall7-2.jpg"],
                    bookingLink: "booking.html?hall=7"
                }
            ];
    
            let map;
            let userMarker;
            let userLocation = null;
            let routingControl;
            let hallMarkers = [];
    
            // Initialize the map centered on Karur
            function initMap() {
                map = L.map('map').setView([10.9600, 78.0769], 13);
                
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);
                
                // Load initial hall listings
                updateHallsList(weddingHalls);
                
                // Set up event listeners for filters
                document.getElementById('price-range').addEventListener('input', function() {
                    const price = parseInt(this.value);
                    document.getElementById('selected-price').textContent = 
                        `Max: ₹${price.toLocaleString('en-IN')}`;
                });
            }
    
            // Get user's current location
            function getUserLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(
                        (position) => {
                            userLocation = {
                                lat: position.coords.latitude,
                                lng: position.coords.longitude
                            };
                            
                            map.setView([userLocation.lat, userLocation.lng], 14);
                            
                            if (userMarker) {
                                userMarker.setLatLng([userLocation.lat, userLocation.lng]);
                            } else {
                                userMarker = L.marker([userLocation.lat, userLocation.lng], {
                                    icon: L.divIcon({
                                        className: 'user-location-icon',
                                        html: '<div style="background-color: #1e88e5; border-radius: 50%; width: 24px; height: 24px; border: 3px solid white; box-shadow: 0 0 5px rgba(0,0,0,0.3);"></div>',
                                        iconSize: [24, 24]
                                    })
                                }).addTo(map)
                                .bindPopup("<b>Your Location</b>");
                            }
                            
                            // Update distances in hall listings
                            filterHalls();
                        },
                        (error) => {
                            alert("Error getting your location: " + error.message);
                        }
                    );
                } else {
                    alert("Geolocation is not supported by this browser.");
                }
            }
    
            // Filter halls based on user selections
            function filterHalls() {
                const maxPrice = parseInt(document.getElementById('price-range').value);
                const showSmall = document.getElementById('capacity-small').checked;
                const showMedium = document.getElementById('capacity-medium').checked;
                const showLarge = document.getElementById('capacity-large').checked;
                const hasAC = document.getElementById('amenity-ac').checked;
                const hasParking = document.getElementById('amenity-parking').checked;
                const hasCatering = document.getElementById('amenity-catering').checked;
                const hasDecoration = document.getElementById('amenity-decoration').checked;
                const featuredOnly = document.getElementById('featured-only').checked;
                const topRated = document.getElementById('top-rated').checked;
                
                let filteredHalls = weddingHalls.filter(hall => {
                    // Price filter
                    if (hall.priceRange[1] > maxPrice) return false;
                    
                    // Capacity filter
                    const capacityGroup = 
                        hall.capacity <= 300 ? 'small' : 
                        hall.capacity <= 700 ? 'medium' : 'large';
                    
                    if (capacityGroup === 'small' && !showSmall) return false;
                    if (capacityGroup === 'medium' && !showMedium) return false;
                    if (capacityGroup === 'large' && !showLarge) return false;
                    
                    // Amenities filter
                    if (hasAC && !hall.amenities.includes('ac')) return false;
                    if (hasParking && !hall.amenities.includes('parking')) return false;
                    if (hasCatering && !hall.amenities.includes('catering')) return false;
                    if (hasDecoration && !hall.amenities.includes('decoration')) return false;
                    
                    // Recommendation filters
                    if (featuredOnly && !hall.featured) return false;
                    if (topRated && hall.rating < 4) return false;
                    
                    return true;
                });
                
                // Sort by distance if user location is available
                if (userLocation) {
                    filteredHalls.forEach(hall => {
                        hall.distance = calculateStraightDistance(
                            userLocation.lat, 
                            userLocation.lng, 
                            hall.lat, 
                            hall.lng
                        );
                    });
                    
                    filteredHalls.sort((a, b) => a.distance - b.distance);
                } else {
                    // Otherwise sort by rating
                    filteredHalls.sort((a, b) => b.rating - a.rating);
                }
                
                updateHallsList(filteredHalls);
            }
    
            // Update the halls list display
            function updateHallsList(halls) {
                const hallsList = document.getElementById("halls-list");
                
                if (halls.length === 0) {
                    hallsList.innerHTML = `
                        <div class="no-results">
                            <i class="fas fa-exclamation-circle"></i>
                            <p>No wedding halls match your filters.</p>
                            <button class="button button-outline" onclick="resetFilters()">
                                <i class="fas fa-redo"></i> Reset Filters
                            </button>
                        </div>
                    `;
                    return;
                }
                
                let html = '';
                
                halls.forEach(hall => {
                    const distance = userLocation ? 
                        `<p class="hall-distance">
                            <i class="fas fa-map-marker-alt"></i> ${hall.distance.toFixed(2)} km away
                        </p>` : '';
                    
                    const ratingStars = Array.from({length: 5}, (_, i) => 
                        i < Math.floor(hall.rating) ? 
                        '<i class="fas fa-star"></i>' : 
                        (i < hall.rating ? '<i class="fas fa-star-half-alt"></i>' : '<i class="far fa-star"></i>')
                    ).join('');
                    
                    const featuredBadge = hall.featured ? 
                        '<span class="featured-badge"><i class="fas fa-crown"></i> Featured</span>' : '';
                    
                    html += `
                        <div class="hall-card ${hall.featured ? 'featured' : ''}">
                            <h3>${hall.name} ${featuredBadge}</h3>
                            <p><i class="fas fa-map-pin"></i> ${hall.address}</p>
                            
                            <div class="hall-meta">
                                <div class="hall-meta-item">
                                    <i class="fas fa-users"></i> ${hall.capacity} guests
                                </div>
                                <div class="hall-meta-item">
                                    <i class="fas fa-rupee-sign"></i> ₹${hall.priceRange[0].toLocaleString('en-IN')} - ₹${hall.priceRange[1].toLocaleString('en-IN')}
                                </div>
                                <div class="hall-meta-item">
                                    <i class="fas fa-phone"></i> ${hall.contact}
                                </div>
                            </div>
                            
                            <div class="hall-rating">
                                <div class="stars">${ratingStars}</div>
                                ${hall.rating.toFixed(1)} (${hall.reviews} reviews)
                            </div>
                            
                            ${distance}
                            
                            <div class="hall-description">
                                ${hall.description}
                            </div>
                            
                            <div class="hall-buttons">
                                <button class="button button-secondary" onclick="showRouteOnMap(${hall.id})">
                                    <i class="fas fa-map-marked-alt"></i> View on Map
                                </button>
                                <a href="${hall.bookingLink}" class="button button-primary">
                                    <i class="fas fa-calendar-check"></i> Book Now
                                </a>
                            </div>
                        </div>
                    `;
                });
                
                hallsList.innerHTML = html;
                
                // Update map markers
                updateMapMarkers(halls);
            }
    
            // Reset all filters to default
            function resetFilters() {
                document.getElementById('price-range').value = 200000;
                document.getElementById('selected-price').textContent = 'Max: ₹2,00,000';
                document.getElementById('capacity-small').checked = true;
                document.getElementById('capacity-medium').checked = true;
                document.getElementById('capacity-large').checked = true;
                document.getElementById('amenity-ac').checked = true;
                document.getElementById('amenity-parking').checked = true;
                document.getElementById('amenity-catering').checked = true;
                document.getElementById('amenity-decoration').checked = true;
                document.getElementById('featured-only').checked = false;
                document.getElementById('top-rated').checked = true;
                
                filterHalls();
            }
    
            // Update map markers based on filtered halls
            function updateMapMarkers(halls) {
                // Clear existing markers
                hallMarkers.forEach(marker => map.removeLayer(marker));
                hallMarkers = [];
                
                // Add new markers
                halls.forEach(hall => {
                    const marker = L.marker([hall.lat, hall.lng], {
                        icon: L.divIcon({
                            className: 'hall-marker-icon',
                            html: `<div style="background-color: ${hall.featured ? '#d81b60' : '#1e88e5'}; 
                                    color: white; border-radius: 50%; width: 24px; height: 24px; 
                                    display: flex; align-items: center; justify-content: center;
                                    border: 2px solid white; box-shadow: 0 0 5px rgba(0,0,0,0.3);">
                                    <i class="fas fa-heart" style="font-size: 12px;"></i>
                                  </div>`,
                            iconSize: [24, 24]
                        })
                    }).addTo(map)
                    .bindPopup(`
                        <b>${hall.name}</b><br>
                        ${hall.address}<br>
                        Capacity: ${hall.capacity} guests<br>
                        Price: ₹${hall.priceRange[0].toLocaleString('en-IN')} - ₹${hall.priceRange[1].toLocaleString('en-IN')}<br>
                        Rating: ${hall.rating.toFixed(1)} ★ (${hall.reviews} reviews)
                    `);
                    
                    hallMarkers.push(marker);
                });
                
                // Fit map to show all markers if there are any
                if (hallMarkers.length > 0) {
                    const group = new L.featureGroup(hallMarkers);
                    map.fitBounds(group.getBounds().pad(0.2));
                }
            }
    
            // Show route on map for specific hall
            function showRouteOnMap(hallId) {
                const hall = weddingHalls.find(h => h.id === hallId);
                if (!hall) return;
                
                if (!userLocation) {
                    alert("Please set your location first to view routes");
                    return;
                }
                
                // Remove existing route if any
                if (routingControl) {
                    map.removeControl(routingControl);
                }
                
                // Add new route
                routingControl = L.Routing.control({
                    waypoints: [
                        L.latLng(userLocation.lat, userLocation.lng),
                        L.latLng(hall.lat, hall.lng)
                    ],
                    routeWhileDragging: true,
                    show: false,
                    lineOptions: {
                        styles: [{color: '#d81b60', opacity: 0.7, weight: 5}]
                    }
                }).addTo(map);
                
                // Zoom to show both points
                const bounds = L.latLngBounds(
                    [userLocation.lat, userLocation.lng],
                    [hall.lat, hall.lng]
                );
                map.fitBounds(bounds);
            }
    
            // Calculate straight-line distance in kilometers
            function calculateStraightDistance(lat1, lon1, lat2, lon2) {
                const R = 6371;
                const dLat = (lat2 - lat1) * Math.PI / 180;
                const dLon = (lon2 - lon1) * Math.PI / 180;
                const a = 
                    Math.sin(dLat/2) * Math.sin(dLat/2) +
                    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
                    Math.sin(dLon/2) * Math.sin(dLon/2);
                const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
                return R * c;
            }
    
            // Initialize the map when the window loads
            window.onload = initMap;
        </script>
    </body>
    </html>
    

    
        
    

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript">
        // You can add your custom JavaScript here if needed
    </script>
    
</body>
</html>